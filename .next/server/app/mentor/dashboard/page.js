(()=>{var e={};e.id=393,e.ids=[393],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},8319:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=s(7096),r=s(6132),n=s(7284),l=s.n(n),i=s(2564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let d=["",{children:["mentor",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9480)),"C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\mentor\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3183)),"C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\mentor\\dashboard\\page.tsx"],m="/mentor/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/mentor/dashboard/page",pathname:"/mentor/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6059:(e,t,s)=>{Promise.resolve().then(s.bind(s,6307))},6307:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>MentorDashboard});var a=s(784),r=s(9885),n=s(195),l=s(7114);function MentorDashboard(){let{user:e}=(0,n.useAuth)(),t=(0,l.useRouter)(),[s,i]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!e)return;if("MENTOR"!==e.role){t.push("/");return}let fetchData=async()=>{await fetchRequests()};fetchData()},[e,t]);let fetchRequests=async()=>{let e=localStorage.getItem("token");if(!e){t.push("/login");return}try{let t=await fetch("/api/mentor-requests",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();i(e)}}catch(e){console.error("Failed to fetch requests:",e)}finally{d(!1)}},handleRequestAction=async(e,s)=>{let a="accept"===s?prompt("Add a response message (optional):"):prompt("Add a reason for rejection (optional):"),r=localStorage.getItem("token");if(!r){t.push("/login");return}try{let t=await fetch(`/api/mentor-requests/${e}/${s}`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({response:a})});if(t.ok)await fetchRequests(),alert(`Request ${s}ed successfully!`);else{let e=await t.json();alert(e.message||`Failed to ${s} request`)}}catch(e){console.error(`Failed to ${s} request:`,e),alert(`Failed to ${s} request`)}};if(!e||"MENTOR"!==e.role)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),a.jsx("p",{children:"You don't have permission to access this page."})]})});if(c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});let o=s.filter(e=>"PENDING"===e.status),m=s.filter(e=>"ACCEPTED"===e.status),x=s.filter(e=>"REJECTED"===e.status);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mentor Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage your mentorship requests"})]}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[a.jsx("button",{onClick:()=>t.push("/"),className:"btn-secondary",children:"Home"}),a.jsx("button",{onClick:()=>{localStorage.removeItem("token"),t.push("/")},className:"btn-danger",children:"Logout"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Requests"}),a.jsx("p",{className:"text-3xl font-bold text-warning-600",children:o.length})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Accepted"}),a.jsx("p",{className:"text-3xl font-bold text-success-600",children:m.length})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Rejected"}),a.jsx("p",{className:"text-3xl font-bold text-danger-600",children:x.length})]})]}),o.length>0&&(0,a.jsxs)("div",{className:"card mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pending Requests"}),a.jsx("div",{className:"space-y-4",children:o.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.mentee.firstName," ",e.mentee.lastName]}),a.jsx("p",{className:"text-gray-600",children:e.mentee.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Requested on ",new Date(e.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"px-3 py-1 bg-warning-100 text-warning-800 rounded-full text-sm font-medium",children:"PENDING"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Message:"}),a.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:e.message})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>handleRequestAction(e.id,"accept"),className:"btn-success",children:"Accept"}),a.jsx("button",{onClick:()=>handleRequestAction(e.id,"reject"),className:"btn-danger",children:"Reject"})]})]},e.id))})]}),m.length>0&&(0,a.jsxs)("div",{className:"card mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Accepted Requests"}),a.jsx("div",{className:"space-y-4",children:m.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.mentee.firstName," ",e.mentee.lastName]}),a.jsx("p",{className:"text-gray-600",children:e.mentee.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Accepted on ",new Date(e.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"px-3 py-1 bg-success-100 text-success-800 rounded-full text-sm font-medium",children:"ACCEPTED"})]})},e.id))})]}),x.length>0&&(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Rejected Requests"}),a.jsx("div",{className:"space-y-4",children:x.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.mentee.firstName," ",e.mentee.lastName]}),a.jsx("p",{className:"text-gray-600",children:e.mentee.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Rejected on ",new Date(e.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:"px-3 py-1 bg-danger-100 text-danger-800 rounded-full text-sm font-medium",children:"REJECTED"})]})},e.id))})]}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 text-lg",children:"No mentorship requests yet."}),a.jsx("p",{className:"text-gray-400",children:"Mentees will appear here when they request your guidance."})]})]})]})}},9480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`C:\Project\Diaspora1\Hackathon-team-jade\app\mentor\dashboard\page.tsx`),{__esModule:n,$$typeof:l}=r,i=r.default,c=i}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[113,978],()=>__webpack_exec__(8319));module.exports=s})();