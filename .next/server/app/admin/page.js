(()=>{var e={};e.id=3,e.ids=[3],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},9069:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>o});var a=s(7096),i=s(6132),n=s(7284),r=s.n(n),l=s(2564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3729)),"C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3183)),"C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Project\\Diaspora1\\Hackathon-team-jade\\app\\admin\\page.tsx"],p="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9667:(e,t,s)=>{Promise.resolve().then(s.bind(s,4082))},4082:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>AdminDashboard});var a=s(784),i=s(9885),n=s(195),r=s(7114);function AdminDashboard(){let{user:e}=(0,n.useAuth)(),t=(0,r.useRouter)(),[s,l]=(0,i.useState)([]),[c,o]=(0,i.useState)(!0);(0,i.useEffect)(()=>{if(e&&!e.isAdmin){t.push("/");return}fetchApplications()},[e,t]);let fetchApplications=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("/api/admin/mentor-applications",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();l(e)}}catch(e){console.error("Failed to fetch applications:",e)}finally{o(!1)}},handleApplicationAction=async(e,t)=>{try{let s=localStorage.getItem("token"),a=await fetch(`/api/admin/mentor-applications/${e}/${t}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(a.ok)await fetchApplications();else{let e=await a.json();alert(e.message||"Failed to update application")}}catch(e){console.error("Failed to update application:",e),alert("Failed to update application")}};return e&&e.isAdmin?c?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage mentor applications and platform settings"})]}),a.jsx("button",{onClick:()=>t.push("/"),className:"btn-secondary",children:"Back to Home"})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pending Applications"}),a.jsx("p",{className:"text-3xl font-bold text-warning-600",children:s.filter(e=>"PENDING"===e.status).length})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Approved Mentors"}),a.jsx("p",{className:"text-3xl font-bold text-success-600",children:s.filter(e=>"APPROVED"===e.status).length})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Rejected Applications"}),a.jsx("p",{className:"text-3xl font-bold text-danger-600",children:s.filter(e=>"REJECTED"===e.status).length})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Mentor Applications"}),0===s.length?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No applications found"}):a.jsx("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),a.jsx("p",{className:"text-gray-600",children:e.user.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Applied on ",new Date(e.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"PENDING"===e.status?"bg-warning-100 text-warning-800":"APPROVED"===e.status?"bg-success-100 text-success-800":"bg-danger-100 text-danger-800"}`,children:e.status})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Application Message:"}),a.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:e.message})]}),"PENDING"===e.status&&(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>handleApplicationAction(e.id,"approve"),className:"btn-success",children:"Approve"}),a.jsx("button",{onClick:()=>handleApplicationAction(e.id,"reject"),className:"btn-danger",children:"Reject"})]})]},e.id))})]})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),a.jsx("p",{children:"You don't have permission to access this page."})]})})}},3729:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>c});var a=s(5153);let i=(0,a.createProxy)(String.raw`C:\Project\Diaspora1\Hackathon-team-jade\app\admin\page.tsx`),{__esModule:n,$$typeof:r}=i,l=i.default,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[113,978],()=>__webpack_exec__(9069));module.exports=s})();