(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2259:function(e,t,s){Promise.resolve().then(s.bind(s,3356))},9560:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth}});var r=s(7437),a=s(2265),n=s(4033);let o=(0,a.createContext)(void 0);function AuthProvider(e){let{children:t}=e,[s,i]=(0,a.useState)(null),[c,l]=(0,a.useState)(!0),d=(0,n.useRouter)();(0,a.useEffect)(()=>{checkAuth()},[]);let checkAuth=async()=>{try{let e=localStorage.getItem("token");if(!e){l(!1);return}let t=await fetch("/api/auth/me",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();i(e)}else localStorage.removeItem("token")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("token")}finally{l(!1)}},login=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),r=await s.json();if(s.ok)return localStorage.setItem("token",r.token),i(r.user),{success:!0,message:"Login successful"};return{success:!1,message:r.message||"Login failed"}}catch(e){return{success:!1,message:"Network error"}}},register=async e=>{try{let t=new AbortController,s=setTimeout(()=>t.abort(),15e3),r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:t.signal});clearTimeout(s);let a={};try{a=await r.json()}catch(e){}if(r.ok)return{success:!0,message:"Registration successful"};{let e=(null==a?void 0:a.message)||"Request failed (".concat(r.status,")");return{success:!1,message:e}}}catch(e){if((null==e?void 0:e.name)==="AbortError")return{success:!1,message:"Request timed out. Please try again."};return{success:!1,message:(null==e?void 0:e.message)||"Network error"}}},claimAdmin=async(e,t)=>{try{let s=await fetch("/api/auth/claim-admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})}),r=await s.json();if(s.ok)return localStorage.setItem("token",r.token),i(r.user),{success:!0,message:"Admin access granted"};return{success:!1,message:r.message||"Admin claim failed"}}catch(e){return{success:!1,message:"Network error"}}};return(0,r.jsx)(o.Provider,{value:{user:s,loading:c,login,register,logout:()=>{localStorage.removeItem("token"),i(null),d.push("/")},claimAdmin},children:t})}function useAuth(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3356:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return HomePage}});var r=s(7437),a=s(2265),n=s(4033),o=s(9560),i=s(1396),c=s.n(i);function HomePage(){let{user:e,loading:t}=(0,o.useAuth)(),s=(0,n.useRouter)();return((0,a.useEffect)(()=>{!t&&e&&("ADMIN"===e.role?s.push("/admin"):"MENTOR"===e.role?s.push("/mentor/dashboard"):"MENTEE"===e.role&&s.push("/mentee/dashboard"))},[e,t,s]),t)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black to-dark-900",children:[(0,r.jsx)("header",{className:"bg-black/60 backdrop-blur border-b border-gray-800",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold text-primary-500",children:"Diaspora Bridge"})}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(c(),{href:"/login",className:"btn-secondary",children:"Login"}),(0,r.jsx)(c(),{href:"/register",className:"btn-primary",children:"Get Started"})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Connecting Rwandan Youth with",(0,r.jsx)("span",{className:"text-primary-500",children:" Diaspora Mentors"})]}),(0,r.jsx)("p",{className:"text-xl text-gray-300 mb-8 max-w-3xl mx-auto",children:"Bridge the gap between Rwandan youth and successful diaspora professionals. Find guidance, mentorship, and opportunities to grow your career."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(c(),{href:"/register?type=mentee",className:"btn-primary text-lg px-8 py-3",children:"I'm Looking for a Mentor"}),(0,r.jsx)(c(),{href:"/register?type=mentor",className:"btn-secondary text-lg px-8 py-3",children:"I Want to Mentor"})]})]}),(0,r.jsxs)("section",{id:"how-it-works",className:"mt-16",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-white text-center mb-6",children:"How It Works"}),(0,r.jsx)("p",{className:"text-center text-gray-300 max-w-3xl mx-auto",children:"Sign up as a mentee to search approved mentors and request guidance. Sign up as a mentor to apply, get approved by admin, and receive mentee requests."})]}),(0,r.jsxs)("section",{id:"mission",className:"mt-12",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-white text-center mb-6",children:"Our Mission"}),(0,r.jsx)("p",{className:"text-center text-gray-300 max-w-3xl mx-auto",children:"Empower Rwandan youth by bridging them with global diaspora expertise, creating pathways to opportunities and growth."})]}),(0,r.jsxs)("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"card text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-dark-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-700",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Find Your Mentor"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Connect with experienced professionals from the diaspora who share your background and goals."})]}),(0,r.jsxs)("div",{className:"card text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-dark-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-700",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Get Guidance"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Receive personalized advice, career guidance, and support from mentors who understand your journey."})]}),(0,r.jsxs)("div",{className:"card text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-dark-900 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-700",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-accent-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Build Your Future"}),(0,r.jsx)("p",{className:"text-gray-300",children:"Access opportunities, build networks, and accelerate your professional growth with expert mentorship."})]})]}),(0,r.jsxs)("section",{id:"for-mentees",className:"mt-16",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-white text-center mb-6",children:"For Mentees"}),(0,r.jsx)("p",{className:"text-center text-gray-300 max-w-3xl mx-auto",children:"Create a profile, browse mentors by expertise and language, and send mentorship requests that mentors can accept or reject."})]}),(0,r.jsxs)("section",{id:"for-mentors",className:"mt-12",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-white text-center mb-6",children:"For Mentors"}),(0,r.jsx)("p",{className:"text-center text-gray-300 max-w-3xl mx-auto",children:"Apply with your expertise and availability. Once approved by the admin, you will appear in search and receive mentee requests in your dashboard."})]})]})]})}},1396:function(e,t,s){e.exports=s(8326)}},function(e){e.O(0,[42,971,472,744],function(){return e(e.s=2259)}),_N_E=e.O()}]);